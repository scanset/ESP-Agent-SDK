# Cargo Configuration for ESP CI Agent
# NIST SP 800-218 SSDF Compliance
# Windows Cross-Compilation Support

[build]
incremental = true

[env]
RUST_BACKTRACE = "1"

# Windows cross-compilation target (MinGW-w64)
[target.x86_64-pc-windows-gnu]
linker = "x86_64-w64-mingw32-gcc"
ar = "x86_64-w64-mingw32-ar"

# Alias for common build commands
[alias]
build-win = "build --target x86_64-pc-windows-gnu"
build-win-release = "build --target x86_64-pc-windows-gnu --release"
check-win = "check --target x86_64-pc-windows-gnu"
clippy-win = "clippy --target x86_64-pc-windows-gnu"
test-win = "test --target x86_64-pc-windows-gnu"

# Native Linux build aliases
build-linux = "build --target x86_64-unknown-linux-gnu"
build-linux-release = "build --target x86_64-unknown-linux-gnu --release"